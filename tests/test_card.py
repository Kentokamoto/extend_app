from models import cards


class TestCard():
    def test_model_schema(self):
        example = '''{"pagination":{"page":0,
        "pageItemCount":1,
        "totalItems":1,
        "numberOfPages":1},
        "virtualCards":[
        {
            "id":"vc_0nWwUYip92B5iF1yZCODCl",
            "status":"ACTIVE",
            "recipientId":"u_6Z4b7TxXAJ97m70luC2zAM",
            "recipient":{
                "id":"u_6Z4b7TxXAJ97m70luC2zAM",
                "firstName":"Kento",
                "lastName":"Okamoto",
                "email":"sarah+kento@paywithextend.com",
                "phone":"+12125555555",
                "phoneIsoCountry":"US",
                "avatarType":"DEFAULT",
                "createdAt":"2023-02-13T22:28:11.180+0000",
                "updatedAt":"2023-02-18T02:15:13.473+0000",
                "currency":"USD",
                "locale":"en-US",
                "timezone":"America/New_York",
                "verified":true,
                "mfaPreference":"EMAIL"
            },
            "cardholderId":"u_4ghf9XE19xkAF0SFuvESez",
            "cardholder":{"id":"u_4ghf9XE19xkAF0SFuvESez",
            "firstName":"Sarah",
            "lastName":"Sanzari",
            "email":"sarah@paywithextend.com",
            "phone":"+16096680472",
            "phoneIsoCountry":"US",
            "avatarType":"DEFAULT",
            "createdAt":"2022-01-18T20:32:42.553+0000",
            "updatedAt":"2023-02-17T16:40:51.356+0000",
            "currency":"USD",
            "locale":"en-US",
            "timezone":"America/New_York",
            "verified":true,
            "organization":{
                "id":"org_8VGljaVGDGe7ap6DtpphrK",
                "role":"MEMBER",
                "joinedAt":"2022-07-25T17:55:21.754+0000",
                "lastLoggedInAt":"2023-02-17T16:40:51.089+0000",
                "explicit":true},
                "organizationId":"org_8VGljaVGDGe7ap6DtpphrK",
                "organizationRole":"MEMBER",
                "mfaPreference":"EMAIL"
            },
            "cardImage":{
                "id":"im_314OR5Ca4gR7w8EASuCH6K",
                "contentType":"image/jpeg",
                "urls":{"large":"https://d2kne817jg7r1q.cloudfront.net/card_image/im_314OR5Ca4gR7w8EASuCH6K/large/comdata-corp-temp-190211.jpg",
                        "medium":"https://d2kne817jg7r1q.cloudfront.net/card_image/im_314OR5Ca4gR7w8EASuCH6K/medium/comdata-corp-temp-190211.jpg",
                        "small":"https://d2kne817jg7r1q.cloudfront.net/card_image/im_314OR5Ca4gR7w8EASuCH6K/small/comdata-corp-temp-190211.jpg"},
            "textColorRGBA":"rgba(255,255,255,1)",
            "hasTextShadow":false,
            "shadowTextColorRGBA":"rgba(0,0,0,1)"
            },
            "displayName":"Kentoâ€™s take home",
            "expires":"2023-08-01T00:00:00.000+0000",
            "currency":"USD",
            "limitCents":5000,
            "balanceCents":3352,
            "spentCents":0,
            "lifetimeSpentCents":1648,
            "last4":"9724",
            "numberFormat":"cardnumber16",
            "validFrom":"2023-02-13T05:00:00.000+0000",
            "validTo":"2023-03-23T04:00:00.000+0000",
            "timezone":"America/New_York",
            "creditCardId":"cc_66KdhnNCr0G6hJE45PV4GU",
            "recurs":false,
            "createdAt":"2023-02-13T22:30:03.961+0000",
            "updatedAt":"2023-02-18T00:59:05.707+0000",
            "address":{
            "address1":"50 West 23rd St",
            "address2":"12th Floor",
            "city":"New York",
            "province":"NY",
            "postal":"10010",
            "country":"US"},
            "direct":true,
            "features":{"customAddress":true,
            "customMax":true},
            "hasPlasticCard":false,
            "activeUntil":"2023-03-23T04:00:00.000+0000",
            "companyName":"Extend Enterprises, Inc",
            "creditCardDisplayName":"Take home assignment budget",
            "issuer":{"id":"iss_3IwK5YZpJOt6Jx7XoeaawR",
            "name":"Comdata"}
        }
        ]}'''
        cards.Cards.parse_raw(example, content_type='application/json')
